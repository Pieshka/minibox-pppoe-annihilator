<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/pico.orange.min.css">
    <link rel="stylesheet" href="css/minibox.css">
    <link rel="stylesheet" href="css/bootstrap.icons.css">

    <script defer src="js/minibox-tools.js"></script>
    <script defer src="js/minibox-i18n.js"></script>
    <script defer src="js/minibox.js"></script>
    <script defer src="js/alpine.mask.min.js"></script>
    <script defer src="js/alpine.i18n.min.js"></script>
    <script defer src="js/alpine.min.js"></script>
    
    <title x-data="" x-text="$t('basic.appliance_full_name')"></title>
</head>
<body>
    <dialog x-data="mnbox_getAuthService()" x-init="init()" x-ref="dialog">
        <article>
            <h2 x-text="$t('login_dialog.title')"></h2>
            <p x-text="$t('login_dialog.provide_password')"></p>
            <p x-text="errorMsg" class="mnbox-color-fail"></p>
            <fieldset>
                <label>
                    <input x-model="password" :placeholder="$t('login_dialog.password')" type="password" name="password">
                </label>
            </fieldset>
            <footer>
                <button x-text="$t('login_dialog.login_button')" @click.prevent="doLogin()"></button>
            </footer>
        </article>
    </dialog>
    <main class="container mnbox-container">
        <header>
            <h1 x-data="" x-text="$t('basic.appliance_full_name')"></h1>
        </header>
        <aside x-data="" class="mnbox-menu">
                <a href="index.html" :data-tooltip="$t('menu_bar.status_tooltip')"><article><i class="bi bi-motherboard"></i> <span x-text="$t('menu_bar.status')"></span></article></a>
                <a href="wan.html" :data-tooltip="$t('menu_bar.wan_tooltip')"><article><i class="bi bi-globe2"></i> <span x-text="$t('menu_bar.wan')"></span></article></a>
                <a href="lan.html" :data-tooltip="$t('menu_bar.lan_tooltip')" class="secondary"><article><i class="bi bi-ethernet"></i> <span x-text="$t('menu_bar.lan')"></span></article></a>
                <a href="security.html" :data-tooltip="$t('menu_bar.security_tooltip')"><article><i class="bi bi-lock"></i> <span x-text="$t('menu_bar.security')"></span></article></a>
                <a href="device.html" :data-tooltip="$t('menu_bar.device_tooltip')"><article><i class="bi bi-plug"></i> <span x-text="$t('menu_bar.device')"></span></article></a>
                <a href="help.html" :data-tooltip="$t('menu_bar.help_tooltip')"><article><i class="bi bi-info-circle"></i> <span x-text="$t('menu_bar.help')"></span></article></a>
                <a href="" :data-tooltip="$t('menu_bar.logout_tooltip')" @click.prevent="mnbox_authService.logout()" class="contrast"><article><i class="bi bi-box-arrow-left"></i> <span x-text="$t('menu_bar.logout')"></span></article></a>
        </aside>
        <main class="mnbox-main">
            <div class="mnbox-main-header">
                <h3 x-data="" x-text="$t('lan_page.title')"></h3>
            </div>
            <div x-data="mnbox_configPage()" x-init="initBase()" class="mnbox-main-col-config">
                <dialog x-show="showLoading" x-transition x-transition.delay.400ms open><span x-text="loadingText" aria-busy="true"></span></dialog>
                <article>
                    <h5 x-text="$t('lan_page.ip_settings')"></h5>
                    <hr>
                    <fieldset>
                        <label>
                            <span x-text="$t('lan_page.lan_mask')"></span>
                            <select x-model.number="config.lan_mask">
                                <option x-text="$t('lan_page.pick_mask')" selected disabled value=""></option>
                                <option x-text="$t('lan_page.single_host')" @click="showIp = true" value="32"></option>
                                <option x-text="$t('lan_page.point_point_net')" @click="showIp = false" value="31"></option>
                                <option x-text="$t('lan_page.standard_net_30')" @click="showIp = false" value="30"></option>
                                <option x-text="$t('lan_page.standard_net_24')" @click="showIp = false" value="24"></option>
                            </select>
                        </label>
                    </fieldset>
                    <fieldset class="grid">
                        <label x-show="showIp">
                            <span x-text="$t('lan_page.lan_ip')"></span>
                            <input x-model="config.lan_ip" x-mask:dynamic="window.mnbox_getIpMask($input)" type="text" name="lan_ip" placeholder="203.0.113.113">
                        </label>
                    </fieldset>
                    <small x-show="showIp" x-text="$t('lan_page.enter_ip')"></small>
                </article>
                <article>
                    <h5 x-text="$t('lan_page.dhcp_settings')"></h5>
                    <hr>
                    <fieldset>
                        <label>
                            <input x-model.boolean="config.lan_dhcp" type="checkbox" role="switch">
                            <span x-text="$t('lan_page.lan_dhcp')"></span>
                        </label>
                    </fieldset>
                    <fieldset class="grid">
                        <label>
                            <span x-text="$t('lan_page.lan_lease')"></span>
                            <input x-model.number="config.lan_lease" type="number" min="0">
                        </label>
                    </fieldset>
                    <small x-text="$t('lan_page.lan_lease_info')"></small>
                </article>
                <article>
                    <h5 x-text="$t('lan_page.additional_settings')"></h5>
                    <hr>
                    <fieldset>
                        <label>
                            <input x-model.boolean="config.mangle_ttl" type="checkbox" role="switch">
                            <span x-text="$t('lan_page.mangle_ttl')"></span>
                        </label>
                    </fieldset>
                    <small x-text="$t('lan_page.mangle_ttl_info')"></small>
                </article>
                <article>
                    <fieldset>
                        <button @click.prevent="saveWithReboot(config)" x-text="$t('basic.save_changes')" :data-tooltip="$t('basic.save_changes_tooltip')"></button>
                    </fieldset>
                    <span x-text="saveStatus" :class="saveStatusClass"></span>
                </article>
            </div>
            <div x-data="" class="mnbox-main-col-help">
                <article>
                    <h6 x-text="$t('lan_page.help_addresses')"></h6>
                    <hr>
                    <p x-html="$t('lan_page.help_addresses_text1')"></p>
                    <p>
                        <b x-text="$t('lan_page.help_addresses_masks')"></b>
                        <ul>
                            <li x-html="$t('lan_page.help_addresses_single')"></li>
                            <li x-html="$t('lan_page.help_addresses_point')"></li>
                            <li x-html="$t('lan_page.help_addresses_std30')"></li>
                            <li x-html="$t('lan_page.help_addresses_std24')"></li>
                        </ul>
                    </p>
                    <p x-html="$t('lan_page.help_addresses_text2')"></p>
                </article>
                <article>
                    <h6 x-text="$t('lan_page.help_dhcp')"></h6>
                    <hr>
                    <p x-html="$t('lan_page.help_dhcp_text1')"></p>
                    <p x-text="$t('lan_page.help_dhcp_text2')"></p>
                </article>
            </div>
        </main>
        <footer x-data="" x-text="$t('basic.footer_text')"></footer>
    </main>
</body>
</html>