From 030be1324fe78342db869a601e51a39323884add Mon Sep 17 00:00:00 2001
From: hmz007 <hmz007@gmail.com>
Date: Fri, 22 Aug 2025 20:45:53 +0200
Subject: [PATCH 09/12] arm64: dts: nanopi-r2: add rk3328-dmc relate node

---
 arch/arm64/boot/dts/rockchip/rk3328-nanopi-r2.dtsi | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

diff --git a/arch/arm64/boot/dts/rockchip/rk3328-nanopi-r2.dtsi b/arch/arm64/boot/dts/rockchip/rk3328-nanopi-r2.dtsi
index 228a4e42f606..203b23195229 100644
--- a/arch/arm64/boot/dts/rockchip/rk3328-nanopi-r2.dtsi
+++ b/arch/arm64/boot/dts/rockchip/rk3328-nanopi-r2.dtsi
@@ -134,6 +134,11 @@ &display_subsystem {
 	status = "disabled";
 };
 
+&dmc {
+	center-supply = <&vdd_log>;
+	status = "okay";
+};
+
 &gmac2io {
 	assigned-clocks = <&cru SCLK_MAC2IO>, <&cru SCLK_MAC2IO_EXT>;
 	assigned-clock-parents = <&gmac_clk>, <&gmac_clk>;
@@ -183,7 +188,8 @@ vdd_log: DCDC_REG1 {
 				regulator-name = "vdd_log";
 				regulator-always-on;
 				regulator-boot-on;
-				regulator-min-microvolt = <712500>;
+				regulator-init-microvolt = <1075000>;
+                regulator-min-microvolt = <712500>;
 				regulator-max-microvolt = <1450000>;
 				regulator-ramp-delay = <12500>;
 
@@ -197,6 +203,7 @@ vdd_arm: DCDC_REG2 {
 				regulator-name = "vdd_arm";
 				regulator-always-on;
 				regulator-boot-on;
+                regulator-init-microvolt = <1225000>;
 				regulator-min-microvolt = <712500>;
 				regulator-max-microvolt = <1450000>;
 				regulator-ramp-delay = <12500>;
-- 
2.43.0

